<%@ page language="java" contentType="text/html; charset=utf-8"
    pageEncoding="utf-8"%>
    <!DOCTYPE html>
<html>
  <head>
    <title>regist</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <link href="css/jquery-ui-themes.css" type="text/css" rel="stylesheet"/>
    <link href="css/axure_rp_page.css" type="text/css" rel="stylesheet"/>
    <link href="files/regist/styles.css" type="text/css" rel="stylesheet"/>

  </head>
  <body>
    <div id="base" class="">
	<form  method="post" id="form">
      <!-- Unnamed (Rectangle) -->
      <div id="u37" class="ax_default box_1">
        <div id="u37_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u38" class="text">
          <p><span>&#149; </span></p>
        </div>
      </div>

      <!-- Unnamed (Horizontal Line) -->
      <div id="u39" class="ax_default line">
        <img id="u39_img" class="img " src="images/regist/u39.png"/>
        <!-- Unnamed () -->
        <div id="u40" class="text" style="display:none; visibility: hidden">
          <p><span></span></p>
        </div>
      </div>

      <!-- Unnamed (Group) -->
      <div id="u41" class="ax_default" data-left="197" data-top="100" data-width="843" data-height="53">

        <!-- Unnamed (Rectangle) -->
        <div id="u42" class="ax_default box_3">
          <div id="u42_div" class=""></div>
          <!-- Unnamed () -->
          <div id="u43" class="text" style="display:none; visibility: hidden">
            <p><span></span></p>
          </div>
        </div>

        <!-- Unnamed (Rectangle) -->
        <div id="u44" class="ax_default label">
          <div id="u44_div" class=""></div>
          <!-- Unnamed () -->
          <div id="u45" class="text">
            <p><span>电商秒杀平台</span></p>
          </div>
        </div>

        <!-- Unnamed (Rectangle) -->
        <div id="u46" class="ax_default label">
          <div id="u46_div" class=""></div>
          <!-- Unnamed () -->
          <div id="u47" class="text">
            <p><span>登录</span></p>
          </div>
        </div>

        <!-- Unnamed (Rectangle) -->
        <div id="u48" class="ax_default label">
          <div id="u48_div" class=""></div>
          <!-- Unnamed () -->
          <div id="u49" class="text">
            <p><span>注册</span></p>
          </div>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u50" class="ax_default label">
        <div id="u50_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u51" class="text">
          <p><span>会员注册</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u52" class="ax_default label">
        <div id="u52_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u53" class="text">
          <p><span>*用户名:</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u54" class="ax_default label">
        <div id="u54_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u55" class="text">
          <p><span>*密码:</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u56" class="ax_default label">
        <div id="u56_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u57" class="text">
          <p><span>*再次输入密码:</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u58" class="ax_default label">
        <div id="u58_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u59" class="text">
          <p><span>我是卖家:</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u60" class="ax_default label">
        <div id="u60_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u61" class="text">
          <p><span>店铺名称:</span></p>
        </div>
      </div>

      <!-- Unnamed (Horizontal Line) -->
      <div id="u62" class="ax_default line">
        <img id="u62_img" class="img " src="images/regist/u39.png"/>
        <!-- Unnamed () -->
        <div id="u63" class="text" style="display:none; visibility: hidden">
          <p><span></span></p>
        </div>
      </div>

      <!-- Unnamed (Horizontal Line) -->
      <div id="u64" class="ax_default line">
        <img id="u64_img" class="img " src="images/regist/u39.png"/>
        <!-- Unnamed () -->
        <div id="u65" class="text" style="display:none; visibility: hidden">
          <p><span></span></p>
        </div>
      </div>

      <!-- Unnamed (HTML Button) -->
      <div id="u66" class="ax_default html_button">
        <input id="u66_input" type="button" value="回到首页"/>
      </div>

      <!-- Unnamed (HTML Button) -->
      <div id="u67" class="ax_default html_button">
        <input id="u67_input" type="button" value="完成注册"/>
      </div>

      <!-- username (Text Field) -->
      <div id="u68" class="ax_default text_field" data-label="username">
        <input id="u68_input" type="text"  name="username" placeholder="4-20位由汉字或数字和字母组成，首位必须为字母"/>
      </div>

      <!-- password (Text Field) -->
      <div id="u69" class="ax_default text_field" data-label="password">
        <input id="u69_input" type="password"  name="pwd" placeholder="6-12个数字和字母的组合"/>
      </div>

      <!-- rewardpwd (Text Field) -->
      <div id="u70" class="ax_default text_field" data-label="rewardpwd">
        <input id="u70_input" type="password" name="repwd"  placeholder="6-12个汉字或数字或字母的组合"/>
      </div>

      <!-- shopname (Text Field) -->
      <div id="u71" class="ax_default text_field" data-label="shopname">
        <input disabled="disabled" id="u71_input" type="text" value="" name="shopName" placeholder="2-20个汉字或字母的组合"/>
      </div>

      <!-- Unnamed (Checkbox) -->
      <div id="u72" class="ax_default checkbox">
        <label for="u72_input">
          <!-- Unnamed () -->
          <div id="u73" class="text">
            <p><span>是</span></p>
          </div>
        </label>
        <input id="u72_input" type="checkbox" value="1" name="isSeller"/>
      </div>
      </form>
    </div>
  </body>
  <script src="js/jquery-1.7.1.min.js"></script>
  <script type="text/javascript">

  	$(function(){
  		//回到首页
  		$("#u66_input").click(function(){
  			window.location.href="/";
  		});
  		//注册
		$("#u67_input").click(function(){
			$.post("/user/regist.html",$("#form").serialize(),function(data){
				if(data==1){
					alert("success");
					window.location.href="/";
				}else{
					alert("defeat");
				}
				
			});
		 });  
		 $("#u47").click(function(){
	  			window.location.href="/login.html";
	  	 });
		 var reg  = /^[a-zA-Z][\u4E00-\u9FA5\uF900-\uFA2D\a-zA-Z0-9]{3,20}$/;
		 var reg1 = /^(?=.*[a-zA-Z])(?=.*[0-9])[a-zA-Z0-9]{6,12}$/;
		 var reg2 = /^[\u4E00-\u9FA5\uF900-\uFA2D\a-zA-Z0-9]{2,20}$/;
  		$("#u68_input").change(function(){
  			var username = $("#u68_input").val();
  			//ajax 
  			$.post("/user/checkusername.html",{"username":username},function(data){
  				if(data=="1"){
  					$("#u68_input").val("");
  					alert("该用户名已存在！");
  				}
  				
  			})
  			if (reg.test(username)){
  				
  			}
  			else{
  				$("#u68_input").val("");
  				alert("不合格！用户名由4-20位由汉字或数字和字母组成，首位必须为字母");
  			}
  			
  		})
  		$("#u69_input").change(function(){
  			var pwd = $("#u69_input").val();
  			
  			if (reg1.test(pwd)){
  				
  			}
  			else{
  				$("#u69_input").val("");
  				alert("不合格！密码由6-12位由数字和字母组成");
  			}
  			
  		})
  		$("#u70_input").change(function(){
  			var repwd = $("#u70_input").val();
  			var pwd = $("#u69_input").val();
  			if (reg1.test(repwd)&&repwd==pwd){
  				
  			}
  			if(repwd!=pwd){
  				$("#u70_input").val("");
  				alert("不合格！密码必须与第一次所写一致");
  			}
  			if(!reg1.test(repwd)){
  				$("#u70_input").val("");
  				alert("不合格！密码由6-12位由数字和字母组成");
  			}
  			
  		})
  		$("#u71_input").change(function(){
  			var shopName = $("#u71_input").val();
  			
  			if (reg2.test(shopName)){
  				
  			}
  			else{
  				 $("#u71_input").val("");
  				alert("不合格！商铺名称由2-20位由汉字或数字或字母组成");
  			}
  			
  		})
  		$("#u72_input").click(function(){
  			if($("#u72_input").is(':checked')){
  				$("#u71_input").attr("disabled",false);
  			}else{
  				$("#u71_input").attr("disabled","disabled");
  			}
  		})
  		
  		
  		
	})
	
  
  </script>
</html>
    